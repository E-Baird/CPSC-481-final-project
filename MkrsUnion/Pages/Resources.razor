@page "/resources"
@inject Blazored.SessionStorage.ISyncSessionStorageService sessionStorage

<PageTitle>Resources</PageTitle>

<div class="text-center">
    <h1>Resources</h1>
</div>

<div class="d-flex">

    @if(isNewUser == "true") {
        <Workflow
            CurrentStep="currentWorkflowStep"
        />
    }
      
    <div class="container">
      <div class="row g-2">
        <div class="col-6 d-flex">
          <div class="p-3 border bg-light rounded">
              <div class="container">
                <h3>Online Tour</h3>
                <p>
                    With ThinkLink, visit the Makerspace virtually with a 
                    360 interactive tour of the space accompanied by annotated 
                    descriptions of the various machines and resources offered. 
                </p>
                <button type="button" class="btn btn-primary" onclick="location.href = 'https://www.thinglink.com/video/1504927955728465921';" >View More</button>
              </div>
          </div>
        </div>
        <div class="col-6 d-flex">
          <div class="p-3 border bg-light rounded">
              <div class="container">
                <h3>Learning Paths</h3>
                <p>
                    Want to learn more about a certain tool or machine 
                    offered by the space? Get an indepth walkthrough of 
                    everything you need to know here. 
                </p>
                <button type="button" class="btn btn-primary" onclick="location.href = 'https://library.ucalgary.ca/makerspace_training/home';" >View More</button>
              </div>
          </div>
        </div>
        <div class="col-6 d-flex">
          <div class="p-3 border bg-light rounded">
              <div class="container">
                <h3>Project Ideas</h3>
                <p>
                    Feel like you dont know where to start 
                    but you want to use the makerspace? 
                    Get inspired with various 3D-Printing, sewing, carving, 
                    game design ideas and so much more here.  
                </p>
                <button type="button" class="btn btn-primary" onclick="location.href = 'https://www.pinterest.ca/uwec_library/makerspace-3d-printing/';" >View More</button>
              </div>
          </div>
        </div>
        <div class="col-6 d-flex">
          <div class="p-3 border bg-light rounded">
              <div class="container">
                <h3>Contact Us</h3>
                <p>
                    Have a question and not sure how to contact us? 
                    We’d love to hear from you, send us a message!
                </p>
                <button type="button" class="btn btn-primary" onclick="location.href = 'mailto: mrksunion@ucalgary.ca';">Send Us an Email</button>
              </div>
          </div>
        </div>
      </div>
    </div>
</div>


@code {
	public string isNewUser { get; set; } = "false";
	public int currentWorkflowStep { get; set; } = -1;

	protected override void OnInitialized()
	{
		try
		{
			isNewUser = sessionStorage.GetItem<string>("isNewUser");
			currentWorkflowStep = int.Parse(sessionStorage.GetItem<string>("currentWorkflowStep"));
		} catch (Exception)
		{
			Console.WriteLine("failed to read session data");
		}

        Console.WriteLine($"Value for isNewUser = {isNewUser}");
        Console.WriteLine($"Value for currentWorkflowStep = {currentWorkflowStep}");
    }
}